"use strict";$define(["swiper"],function(e){return{init:function(e,n){var t=e||this._params,a=t.id,s=t.cid;(n=n||this.scope).parents(".p_item").css({overflow:"hidden"});var i,d=!1;function o(){var o=t.propJson.settings,e={direction:"vertical"==o.direction?"vertical":"horizontal",slidesPerView:1,spaceBetween:0,speed:o.speed||600,loop:!0,effect:o.effect||"",pagination:!!o.pagination&&{el:"#"+s+" ."+a+" .swiper-pagination",clickable:!0},navigation:{nextEl:"#"+s+" ."+a+" .swiper-button-next",prevEl:"#"+s+" ."+a+" .swiper-button-prev"},autoplay:!!o.autoplay&&{delay:1e3*Number(o.deplay)||3e3,stopOnLastSlide:!1,disableOnInteraction:!0},on:{init:function(){d=!0},slideChangeTransitionEnd:function(i){$(this.slides[this.activeIndex]).siblings().find(".p_info").removeClass("anim"),$(this.slides[this.activeIndex]).find(".p_info").addClass("anim");var n=$(this.slides[this.activeIndex]).find(".videoContent video");n.length?$require(["/npublic/eleJs/e_bannerVideoFun.js"],function(e){e.initVideo(n,i,o)}):o.autoplay&&i.autoplay.start()},slideChangeTransitionStart:function(t){this.slides.forEach(function(e){var i,n,e=$(e).find(".videoContent video");e.length&&(i=e.get(0),n=e.parent().prev(".p_videoPoster"),$require(["/npublic/eleJs/e_bannerVideoFun.js"],function(e){e.stopVideo(i,n,t,o)}))})}}},i=new Swiper("#"+s+" ."+a+" .swiper-container",e);i.el&&(i.el.onmouseover=function(){o.autoplay&&o.overStop&&i.autoplay.stop()},i.el.onmouseleave=function(){!function(){if(!o.autoplay||!isFrontEnv())return;var e=i.slides[i.activeIndex],e=$(e).find("video");!1!==o.palyWithVideo&&0<e.length?0<(e=e[0]).currentTime&&!e.paused&&!e.ended?i.autoplay.stop():(i.autoplay.start(),e.ended&&i.slideNext()):i.autoplay.start()}()}),n.find('.swiper-slide[data-swiper-slide-index="0"]').eq(0).find(".videoContent video").length&&o.videoAutoplay&&i.autoplay.stop()}!(0<n.parents('[id^="c_magiccube_009-"]').length||0<n.parents('[id^="c_popbox-"]').length)||(i=n.parents(".p_content")).is(":visible")?o():i.on("onVisible",function(){d||o()})}}});