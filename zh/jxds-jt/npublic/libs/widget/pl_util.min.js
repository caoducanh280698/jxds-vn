"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$.openNewWindow=function(e){var t=$("<a target='_blank'></a>").attr("href",e)[0];"function"!=typeof t.click||/^Mozilla.*Firefox.*/.test(navigator.userAgent)?window.open(e):t.click()},$.openHref=function(e){window.location.href=e},$.fn.getScope=function(){return $(this).closest("[id^='c_']")},$.fn.onErrorImg=function(){$("img").off("error").on("error",function(){var e=$(this),t=e.attr("src"),r="/npublic/img/no-img.svg";t!=r&&e.attr("src",r).attr("errorsrc",t)})},$.formatDate=function(e,t){if("Invalid Date"==e)return"";var r,n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},$.changeUrlArg=function(url,arg,val){var handle=function handle(url,arg,val){var pattern="[?|&]"+arg+"=([^&]*)",replaceText=arg+"="+val,nUrl=url,nUrl=url.match(pattern)?url.replace(eval("/[?]("+arg+"=)([^&]*)/gi"),"?"+replaceText).replace(eval("/[&]("+arg+"=)([^&]*)/gi"),"&"+replaceText):url+(url.match("[?]")?"&":"?")+replaceText;return nUrl};if("string"==typeof arg)return handle(url,arg,val);if("object"==_typeof(arg)){var tmpUrl=url,i;for(i in arg)tmpUrl=handle(tmpUrl,i,arg[i]);return tmpUrl}},$.delUrlArg=function(url,arg){var handle=function handle(url,arg){var pattern="[?|&]"+arg+"([^=]*)",nUrl=url;return url.match(pattern)&&(nUrl=url.replace(eval("/[?]("+arg+"=)([^&]*)/gi"),"?").replace(eval("/[&]("+arg+"=)([^&]*)/gi"),"")),nUrl=nUrl.replace("?&","?"),"?"==nUrl.substr(-1)&&(nUrl=nUrl.substr(0,nUrl.length-1)),nUrl};if("string"==typeof arg)return handle(url,arg);if("object"==_typeof(arg)){var tmpUrl=url;return arg.forEach(function(e){tmpUrl=handle(tmpUrl,e)}),tmpUrl}},$.handleDataImg=function(e){function t(e){var t=__ce.imgStaticUrl;return 3==e?"/repository/":2==e?(null==__ce.imgStaticCount&&(__ce.imgStaticCount=0),e=__ce.imgStaticCount%t.length,__ce.imgStaticCount++,t[e]||t[0]):t[0]}function r(e,t){return""==t||i.test(e)&&(e=e.replace(i,function(e){return e.startsWith("/")||(e="/"+e),t+e})),e}var n,a,i=/^(?!http(s)?:\/\/)(.*?)\/(.*?\.(png|jpg|gif|jpeg|webp|bmp|tiff|PNG|JPG|GIF|JPEG|WEBP|BMP|TIFF))$/;if("string"==typeof e)!i.test(e)||""!=(n=t(tenant.cdnFlag,tenant.unittype))&&(e=r(e,n));else for(var l in e)!i.test(e[l])||""!=(a=t(tenant.cdnFlag,tenant.unittype))&&(e[l]=r(e[l],a));return e},$.handleDataVideo=function(e){function t(e){return 3==e?"/repository/":__ce.videoStaticUrl[0]}var r,n,a=/^(?!http(s)?:\/\/)(.*?)\/(.*?\.(mp4))$/;return a.test(e)&&""!=t(tenant.cdnFlag)&&(r=e,""==(n=t(tenant.cdnFlag))||a.test(r)&&(r=r.replace(a,function(e){return e.startsWith("/")||(e="/"+e),n+e})),e=r),e},$.handleDataFile=function(e){function t(e){var t=__ce.fileStaticUrl;return 3==e?"/repository/":2==e?(null==__ce.imgStaticCount&&(__ce.imgStaticCount=0),e=__ce.imgStaticCount%t.length,__ce.imgStaticCount++,t[e]||t[0]):t[0]}var r,n,a=/^(?!http(s)?:\/\/)/;return a.test(e)&&""!=t(tenant.cdnFlag)&&(r=e,""==(n=t(tenant.cdnFlag))||a.test(r)&&r&&(r=r.replace(a,function(e){return e.startsWith("/")||(e="/"+e),n+e})),e=r),e},$.formValidate=function(e,t,r,n){var a,i,l;if("resetForm"!=e)if("errorMessage"!=e)for(var o in r.required.value=!(!t.attr("required")||!r.required),r){var u=r[o];if(""==e){var c=!("required"!=o||!u.value)&&u.msg;if(s(t,c),!1!==c)return}else if("type"==o&&u.state){c=(a=e,i=u.value,l=void 0,!(!(l={text:/[\w\W]*/,mobile:/^[0-9]{11}$/,countryMobile:/^[0-9\+-]+$/,tel:/^[0-9\+-]+$/,countryTel:/^[0-9\+-]+$/,number:/^-?[0-9]+(\.[0-9]*)?$/,email:/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,5}$/,card:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,url:/^(?:http(s)?:\/\/)[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/})[i]||l[i].test(a))&&u.msg);if(s(t,c),!1!==c)return}else{if("decimal"==o&&u.state&&-1<e.indexOf(".")&&e.split(".")[1].length>u.value)return u.msg=u.msg.replace("%len",u.value),void s(t,u.msg);if("minLength"==o&&u.state&&e.length<u.value)return u.msg=u.msg.replace("%len",u.value),void s(t,u.msg);if("maxLength"==o&&u.state&&e.length>u.value)return u.msg=u.msg.replace("%len",u.value),void s(t,u.msg);if("min"==o&&u.state&&Number(e)<Number(u.value))return u.msg=u.msg.replace("%len",u.value),void s(t,u.msg);if("max"==o&&u.state&&Number(e)>Number(u.value))return u.msg=u.msg.replace("%len",u.value),void s(t,u.msg);if("custom"==o&&u.state&&!new RegExp(u.value).test(e))return void s(t,u.msg);s(t,!1)}}else s(t,r);else s(t,!1);function s(e,t){var r=e.find(".invalid-feedback"),e=e.find(".p_input");n&&(r=(e=n).parent().find(".invalid-feedback")),!1===t?(e.removeClass("is-invalid"),r.text("")):(e.addClass("is-invalid"),r.text(t))}},$.uuid=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},$.getSearch=function(){var e=new Object,t=decodeURIComponent(location.href).match(/c-.*?\.html/);if(t)for(var r=t[0].substr(2),n=(r=r.substring(0,r.length-5)).split("&"),a=0;a<n.length;a++)e[n[a].split("=")[0]]=unescape(n[a].split("=")[1]);r=decodeURI(location.search);if(-1!=r.indexOf("?"))for(var i=r.substr(1).split("&"),l=0;l<i.length;l++)e[i[l].split("=")[0]]=unescape(i[l].split("=")[1]);return e},$.getTerminal=function(){return Boolean(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))||$(window).width()<=768?4:3},$.isWechat=function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},$.showWxPrompt=function(){$("body").append('<div class="openwithbrowser">\n        <div class="wxarrow"><img src="/npublic/img/arrow.png" /></div>\n        <p>由于微信浏览器限制，请按照一下步骤操作：</p>\n        <p>1、点击右上角...</p>\n        <p>2、选择在浏览器中打开</p>\n        <div class="wxprom"><img src="/npublic/img/wxdot.png" /></div>\n    </div>'),$(".openwithbrowser").off("click").on("click",function(){$(".openwithbrowser").remove()})},$.getProp=function(e,t){var r=(r=$("#"+e).children("input:hidden[name='propJson']").val())?JSON.parse(r):{},n={},a=t.split("-")[1];if(a)for(var i in r)i.endsWith("_"+a)&&(n[i.split("_")[0]]=r[i]);else n=r;return n};